<ion-header translucent>
  <ion-toolbar color="favorite" padding>
      <ion-buttons slot="start">
          <ion-button (click)="onDismiss()">
            Cancel
          </ion-button>
      </ion-buttons>
      <ion-title color="dark" mode="ios" >Customer Details</ion-title>
      <ion-buttons slot="end">
        <ion-button (click)="onSave()">
          Save
        </ion-button>
      </ion-buttons> 
  </ion-toolbar>
</ion-header>
<ion-content>
  <form [formGroup]="customerForm">
    <ion-grid>
      <ion-row>
        <ion-col size="6">
          <ion-item  lines='none' [class.error]="!customerForm.controls.firstname.valid && (customerForm.controls.firstname.dirty || customerForm.controls.firstname.touched)" >
            <ion-label position="stacked" class="input-label">First name</ion-label>
            <ion-input type="text" formControlName="firstname" name="firstname"></ion-input>
            <ion-text class="warn-text" >First name cannot be empty</ion-text>
          </ion-item> 
        </ion-col>
        <ion-col size="6">
          <ion-item lines='none' [class.error]="!customerForm.controls.lastname.valid && (customerForm.controls.lastname.dirty || customerForm.controls.lastname.touched)" >
            <ion-label position="stacked" class="input-label">Last name</ion-label>
            <ion-input type="text" formControlName="lastname" name="lastname"></ion-input>
            <ion-text class="warn-text" >Last name cannot be empty</ion-text>
          </ion-item> 
        </ion-col>
        <ion-col size="12">
          <ion-item lines='none'  >
            <ion-label position="stacked" class="input-label">Email address (optional)</ion-label>
            <ion-input type="text" formControlName="email" name="email"></ion-input>
          </ion-item> 
        </ion-col>
        <ion-col size="12">
          <ion-item lines='none' [class.error]="!customerForm.controls.phonenumber.valid && (customerForm.controls.phonenumber.dirty || customerForm.controls.phonenumber.touched)" >
            <ion-label position="stacked" class="input-label">Phone number</ion-label>
            <ion-input type="text" formControlName="phonenumber" name="phonenumber"></ion-input>
            <ion-text class="warn-text" >Phone number cannot be empty</ion-text>
          </ion-item> 
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="12">
          <ion-item lines="none" >
            <ion-label position="stacked" class="input-label" >Country</ion-label>
            <ion-select [value]="customerForm.controls.country.value" okText="Okay" cancelText="Dismiss" formControlName="country" (ionChange)="onChangeCountry($event)">
              <ion-select-option *ngFor="let country of countries" [value]="country">{{country}}</ion-select-option>
            </ion-select>
      </ion-item>  
        </ion-col>
        <ion-col size="12">
          <ion-item lines="none" >
            <ion-label position="stacked" class="input-label" >City</ion-label>
            <ion-select [value]="customerForm.controls.city.value" okText="Okay" cancelText="Dismiss" formControlName="city">
              <ion-select-option *ngFor="let city of cities" [value]="city">{{city}}</ion-select-option>
            </ion-select>
      </ion-item>  
        </ion-col>
        <ion-col size="12">
          <ion-item lines='none' [class.error]="!customerForm.controls.street.valid && (customerForm.controls.street.dirty || customerForm.controls.street.touched)" >
            <ion-label position="stacked" class="input-label">Address</ion-label>
            <ion-input type="text" formControlName="street" name="street"></ion-input>
            <ion-text class="warn-text" >Street cannot be empty</ion-text>
        </ion-item> 
        </ion-col>
      </ion-row>
    </ion-grid>
  </form>
</ion-content>